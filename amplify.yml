version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Build is Starting ____________________"
        - npm ci --force
    build:
      commands:
        - echo "I am runing on build commands"
        - npm run build
  artifacts:
    baseDirectory: dist
    files:
      - '**/*'
  cache:
    paths:
      - .npm/**/*
backend:
  phases:
    
    build:
      commands:
        - echo "Installing Pip enviroment and boto3, schedule, and mysql-connector-python__________________________________"
        - python3 -m venv venv
        - source venv/bin/activate
        - pip install pipenv
        - pipenv install
        - pipenv install boto3 schedule mysql-connector-python
  functions:
  - name: ReservationAndLeasedHouseFunction
    handler: index.handler
    environment:
      VARIABLES: env
    build:
      commands:
       - echo "take lambda function to the site pacakged inorder to get the dependency"
       - cp -r venv/lib/python3.8/site-packages/* $BUILD_DIR
       - cp -r index.py $BUILD_DIR
    memory: 1024
    timeout: 30
    
  
          
       
   
        
