version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Build is Starting ____________________"
        - npm ci --force
    build:
      commands:
        - echo "I am runing on build commands"
        - npm run build
  artifacts:
    baseDirectory: dist
    files:
      - '**/*'
  cache:
    paths:
      - .npm/**/*
backend:
  phases:
    
    build:
      commands:
        - sudo update-alternatives --install /usr/bin/python3 python3 /usr/local/bin/python3.8 11
        - echo "Installing Pip enviroment and __________________________________"
        - pip3.8 install pipenv
        - pip install virtualenv
        - pip install -r requirements.txt 
        - amplifyPush --simple
  functions:
  - name: ReservationAndLeasedHouseFunction
    handler: index.handler
    environment:
      VARIABLES: env
    build:
      commands:
        - python3.8 -m venv .venv
        - source .venv/bin/activate
        - pipenv install boto3 schedule mysql-connector-python
    artifacts:
      baseDirectory: .
      files:
        - 'index.py'
        - 'requirements1.txt'
  
          
       
   
        
